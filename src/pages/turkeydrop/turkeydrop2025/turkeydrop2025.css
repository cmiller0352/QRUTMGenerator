:root{
  --bg:#efe7d7; --paper:#fff; --ink:#271e16; --muted:#6b5f55; --brand:#0d6b3b; --brand-ink:#fff;
  --line:#e7e0d4; --slot:#f8f5ef; --slot-sel:#e6f3ea; --slot-full:#f2eeea;
  --radius:14px; --shadow:0 8px 24px rgba(0,0,0,.08);
}

/* Put the layout above the background layer */
.tdp-shell{ position: relative; z-index: 1; }

/* Fixed, subtle background (image passed via CSS var from React) */
.tdp-bg{
  position: fixed;
  inset: 0;
  z-index: 0;              /* behind page content */
  pointer-events: none;
  background-image:
    var(--bg-url, none),
    radial-gradient(
      ellipse at 30% 20%,
      rgba(255,255,255,0.00),
      rgba(255,255,255,0.18) 40%,
      rgba(255,255,255,0.42) 70%
    );
  background-position: 20% 26%, center;
  background-repeat: no-repeat, no-repeat;
  background-size: clamp(420px, 42vw, 760px) auto, cover;
  opacity: .18;            /* subtle watermark */
  filter: saturate(.8) blur(.2px);
}

/* ensure content sits above the watermark */
.tdp-shell, .tdp-left, .tdp-right { position: relative; z-index: 1; }

/* keep the form card readable on all screens */
.tdp-right .tdp-card{
  backdrop-filter: saturate(100%) blur(0px);
  background: rgba(255,255,255,0.92);
}


/* keep the form card readable on all screens */
.tdp-right .tdp-card{
  backdrop-filter:saturate(100%) blur(0px);
  background: rgba(255,255,255,0.92);
}

*{box-sizing:border-box}
.tdp-shell{position: relative; z-index: 1;display:grid;grid-template-columns:1.2fr .9fr;gap:28px;max-width:1200px;margin:24px auto;padding:12px 20px;color:var(--ink)}
@media (max-width:980px){.tdp-shell{grid-template-columns:1fr}}
.tdp-left{padding:8px}
.tdp-title{font-size:44px;letter-spacing:.5px;margin:.2rem 0 1rem}
.tdp-year{color:var(--brand)}
.crumb{display:inline-block;padding:6px 10px;border-radius:999px;background:#f2efe9;color:#7b6f64;font-size:12px;margin:4px 0 10px}
.tdp-sub{color:var(--muted);margin-top:-6px}
.tdp-block{margin:18px 0}
.tdp-block h3{margin:0 0 6px}
.tdp-progress{height:12px;background:#efe6d7;border-radius:999px;overflow:hidden}
.tdp-progress-bar{height:100%;background:var(--brand)}
.tdp-progress-meta{display:flex;justify-content:space-between;color:var(--muted);font-size:13px;margin-top:6px}

.tdp-sponsors{margin-top:28px}
.tdp-sponsor-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
@media (max-width:900px){.tdp-sponsor-grid{grid-template-columns:repeat(2,1fr)}}
.tdp-sponsor-card{background:#faf7f1;border:1px dashed #ddd;border-radius:12px;min-height:72px;display:flex;align-items:center;justify-content:center;padding:10px}
.tdp-sponsor-card img{max-width:90%;max-height:48px;filter:grayscale(100%);opacity:.9}

/* Card */
.tdp-right{display:flex;justify-content:center}
.tdp-card{background:var(--paper);border-radius:18px;box-shadow:var(--shadow);padding:20px;max-width:520px;width:100%}
.tdp-card-title{margin:.2rem 0 .2rem}
.tdp-card-sub{color:var(--muted);margin:0 0 12px}

/* Form */
.tdp-form{display:grid;gap:12px}
.tdp-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:600px){.tdp-row{grid-template-columns:1fr}}
.tdp-form label{display:grid;gap:6px;font-weight:600}
.tdp-form label input,.tdp-form label select{border:1px solid var(--line);border-radius:10px;padding:10px 12px;font:inherit}
.tdp-muted{color:var(--muted);font-weight:500}

/* Slot grid (time windows) */
.tdp-slotgrid-head{font-weight:700;margin:6px 0}
.tdp-slotgrid-body{display:grid;grid-template-columns:1fr 1fr;gap:10px}
@media (max-width:600px){.tdp-slotgrid-body{grid-template-columns:1fr}}
.tdp-slot{position:relative;display:grid;gap:4px;border:1px solid var(--line);background:var(--slot);border-radius:12px;padding:10px 12px;cursor:pointer;user-select:none}
.tdp-slot input{position:absolute;opacity:0}
.tdp-slot--sel{outline:2px solid var(--brand);background:var(--slot-sel)}
.tdp-slot--full{opacity:.6;background:var(--slot-full);cursor:not-allowed}
.tdp-slot-main{font-weight:700}
.tdp-slot-sub{color:var(--muted);font-size:12px}

/* Big toggles */
.tdp-toggles{ display:grid; gap:8px; margin:6px 0 10px }
.tdp-toggle{
  display:flex; gap:10px; align-items:flex-start; text-align:left;
  border:1px solid var(--line); background:#fff; border-radius:12px;
  padding:10px 12px; cursor:pointer; font:inherit;
}
.tdp-toggle i{
  width:18px; height:18px; border-radius:4px; border:2px solid #aaa; margin-top:2px; flex:0 0 auto;
  background:#fff; transition:all .12s ease;
}
.tdp-toggle.on i{ border-color:var(--brand); background:var(--brand); box-shadow:inset 0 0 0 2px #fff }
.tdp-toggle:hover{ box-shadow:0 1px 0 rgba(0,0,0,.04) }
.tdp-toggle-error{ outline:2px solid #d33 }

/* Validation + messages */
[aria-invalid="true"] { border-color:#d33 !important; outline-color:#d33; }
.tdp-submit{margin-top:6px;border:none;background:var(--brand);color:var(--brand-ink);padding:12px 14px;border-radius:12px;font-weight:700;cursor:pointer}
.tdp-submit:disabled{opacity:.6;cursor:wait}
.tdp-msg{padding:10px 12px;border-radius:10px;border:1px solid #f2b0b0;background:#fff4f4;color:#a12626;margin-top:8px}
.tdp-msg.ok{border-color:#b7e4c7;background:#ecfff3;color:#125d34}
.tdp-help{color:var(--muted);font-size:12px;margin:10px 2px 0}

/* banner image */
.tdp-banner{ width:100%; height:auto; border-radius:16px; margin:4px 0 12px; display:block }

/* FYI bubble */
.tdp-info{
  display:inline-block; margin:0 0 10px; padding:6px 10px;
  border-radius:999px; background:#eef7ff; color:#184a77; font-size:13px; border:1px solid #d9ebff;
}

/* New CHIP UI (matches slot look) */
.chip-grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap:10px;
}
@media (min-width: 860px){
  .chip-grid{ grid-template-columns: repeat(3, minmax(0,1fr)); }
}

.chip-btn{
  display:flex; align-items:center; justify-content:center;
  min-height:44px; padding:10px 12px;
  border:1px solid #e6e1d7; border-radius:12px;
  background:#fbfaf8; color:#222; font: 500 14px/1.2 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  box-shadow: 0 0 0 0 rgba(0,0,0,.05);
  cursor:pointer; user-select:none;
  transition: border-color .15s ease, box-shadow .15s ease, background .15s ease;
}
.chip-btn:hover{ border-color:#d8d2c6; background:#fff; }
.chip-btn:focus-visible{ outline:0; box-shadow:0 0 0 3px rgba(13,107,59,.25); }
.chip-btn[aria-pressed="true"]{
  border-color:#0d6b3b; background:#e9f5ef; color:#0b5b33;
}

.field-hint{ margin:4px 0 8px; color:#6b675f; font-size:12.5px; }

/* Error ring for chip/slot sections (does not shift layout) */
.tdp-section { border-radius: 14px; }
.tdp-err-ring { outline: 2px solid #d33; outline-offset: 2px; border-radius: 14px; }

/* Sponsors – switch to masonry columns on wider screens */
.tdp-sponsor-list{
  margin: 0;
  padding: 0 0 0 1.1rem;            /* keep bullets */
  list-style: disc;
  list-style-position: inside;
}

/* Desktop/tablet: columns = gapless masonry */
@media (min-width: 820px){
  .tdp-sponsor-list{
    columns: 2;                     /* number of columns */
    column-gap: 28px;               /* space between columns */
  }
  /* optional: Silver/Gold have more items → 3 columns on large screens */
  @media (min-width: 1200px){
    .tdp-tier--gold  .tdp-sponsor-list,
    .tdp-tier--silver.tdp-tier .tdp-sponsor-list,
    .tdp-tier--silver .tdp-sponsor-list{
      columns: 3;
    }
  }
}

/* Mobile: single column (readable) */
@media (max-width: 819.98px){
  .tdp-sponsor-list{ columns: 1; }
}

/* Keep each item intact; prevent splitting across columns */
.tdp-sponsor-list li{
  break-inside: avoid;
  -webkit-column-break-inside: avoid;
  page-break-inside: avoid;
  margin: 4px 0;                    /* consistent vertical rhythm */
  line-height: 1.35;
  word-break: normal;
  overflow-wrap: anywhere;
}


/* Responsive collapse */
@media (max-width: 900px) {
  .tdp-sponsor-list {
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }
}
@media (max-width: 640px) {
  .tdp-sponsor-list {
    grid-template-columns: 1fr;      /* single column on small screens */
  }
}
/* ——— Footer (RHP look & feel) ——— */
.tdp-footer {
  margin-top: 28px;
  background: #0a5d36; /* RHP green */
  color: #f3f6f4;
  position: relative;
  z-index: 10;          /* above watermark */
  isolation: isolate;   /* own stacking context */
}

/* paints a solid layer so watermark cannot show through */
.tdp-footer::before {
  content: "";
  position: absolute;
  inset: 0;
  background: #0a5d36;
  z-index: -1;
}

.tdp-footer__inner {
  max-width: 1100px;
  margin: 0 auto;
  padding: 22px 16px 26px;
  display: grid;
  grid-template-columns: 1.3fr 2fr;
  gap: 14px 28px;
}

/* Brand block with shield on the left */
.tdp-footer__brand {
  display: grid;
  grid-template-columns: 92px 1fr;  /* bigger shield */
  gap: 14px;
  align-items: start;
}
.tdp-footer__shield {
  width: 92px;
  height: 92px;
  object-fit: contain;
  opacity: .95;
  filter: drop-shadow(0 1px 0 rgba(0,0,0,.2));
}

.tdp-footer__title { font-weight: 800; letter-spacing: .2px; line-height: 1.2; }
.tdp-footer__org   { color: #d9e6de; font-size: .95rem; line-height: 1.35; }
.tdp-footer__contact { margin-top: 6px; font-size: .95rem; color: #e6f1ea; }
.tdp-dot { margin: 0 .5ch; color: #b9d3c7; }

.tdp-footer a {
  color: #e0f5eb;
  text-decoration: underline;
  text-underline-offset: 2px;
}
.tdp-footer a:hover { color: #ffffff; }

.tdp-footer__nav {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
  gap: 6px 16px;
  align-content: start;
  line-height: 1.35;
}

.tdp-footer__legal {
  grid-column: 1 / -1;
  margin-top: 4px;
  color: #cfe3d8;
  font-size: .9rem;
}

/* Responsive */
@media (max-width: 800px) {
  .tdp-footer__inner { grid-template-columns: 1fr; gap: 14px; }
  .tdp-footer__brand { grid-template-columns: 72px 1fr; gap: 10px; }
  .tdp-footer__shield { width: 72px; height: 72px; }
  .tdp-footer__nav { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 520px) {
  .tdp-footer__nav { grid-template-columns: 1fr; }
}

/* Sponsor tier heading colors (restore) */
.tdp-tier { margin-top: 20px; }
.tdp-tier h4 {
  margin: 0 0 6px;
  font-weight: 700;
}

.tdp-tier--platinum h4 { color: #0d6b3b; } /* RHP green */
.tdp-tier--gold     h4 { color: #8a6b1f; } /* gold */
.tdp-tier--silver   h4 { color: #55616a; } /* silver */

/* optional: subtler bullet color for sponsor lists */
.tdp-sponsor-list { color: inherit; }
.tdp-sponsor-list li::marker { color: #5b5b5b; }
